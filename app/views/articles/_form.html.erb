<%= form_with(model: article, class: "row g-3") do |form| %>
<% if article.errors.any? %>
<div class="col-12">
  <div class="alert alert-danger">
    <h4 class="alert-heading">
      <%= pluralize(article.errors.count, "erreur") %>
      <%= article.errors.count == 1 ? "empêche" : "empêchent" %>
      la sauvegarde de cet article :
    </h4>
    <ul class="mb-0">
      <% article.errors.each do |error| %>
      <li><%= error.full_message %></li>
      <% end %>
    </ul>
  </div>
</div>
<% end %>

<div class="col-12">
  <%= form.label :title, "Titre", class: "form-label" %>
  <%= form.text_field :title, class: "form-control #{'is-invalid' if article.errors[:title].any?}", placeholder: "Entrez le titre de votre article" %>
  <% if article.errors[:title].any? %>
  <div class="invalid-feedback">
    <%= article.errors[:title].first %>
  </div>
  <% end %>
</div>

<div class="col-12">
  <%= form.label :content, "Contenu", class: "form-label" %>
  <%= form.text_area :content, class: "form-control #{'is-invalid' if article.errors[:content].any?}", rows: 8, placeholder: "Rédigez le contenu de votre article ici..." %>
  <% if article.errors[:content].any? %>
  <div class="invalid-feedback">
    <%= article.errors[:content].first %>
  </div>
  <% end %>
</div>

<div class="col-12">
  <div class="d-flex gap-2">
    <%= form.submit article.persisted? ? "Mettre à jour l'article" : "Créer l'article", 
                      class: "btn btn-primary" %>
    <%= link_to "Annuler", article.persisted? ? article : articles_path, 
                  class: "btn btn-secondary" %>
  </div>
  <div class="form-check">
    <%= form.check_box :is_private, class: "form-check-input", id: "article_is_private" %>
    <%= form.label :is_private, "Article privé", class: "form-check-label", for: "article_is_private" %>
  </div>
</div>
<% end %>